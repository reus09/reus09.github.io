<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Mybatis | Reus09&#39;s Blog</title>
<meta name="keywords" content="SSM">
<meta name="description" content="MyBatis è¿™é‡Œæ•´ç†äº†MyBatisçš„å¸¸è§ç”¨æ³• Mybatis ä¸»è¦å¯¹æ•°æ®åº“çš„æ“ä½œæä¾›äº†ç»„ä»¶ 1 ç¯å¢ƒæ­å»º å¯¼å…¥ä¾èµ– &lt;!-- Mybatisæ ¸å¿ƒ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.5.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MySQLé©±åŠ¨ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;">
<meta name="author" content="Reus09">
<link rel="canonical" href="http://www.reus09.top/posts/tech/mybatis/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.40573d180b208ab15c3bf0a170c2ac86aa8ccf179f96f939352198fbee79100e.css" integrity="sha256-QFc9GAsgirFcO/ChcMKshqqMzxeflvk5NSGY&#43;&#43;55EA4=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/20211103151005.jpeg">
<link rel="icon" type="image/png" sizes="16x16" href="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/20211103151005.jpeg">
<link rel="icon" type="image/png" sizes="32x32" href="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/20211103151005.jpeg">
<link rel="apple-touch-icon" href="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/20211103151005.jpeg">
<link rel="mask-icon" href="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/20211103151005.jpeg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Mybatis" />
<meta property="og:description" content="MyBatis è¿™é‡Œæ•´ç†äº†MyBatisçš„å¸¸è§ç”¨æ³• Mybatis ä¸»è¦å¯¹æ•°æ®åº“çš„æ“ä½œæä¾›äº†ç»„ä»¶ 1 ç¯å¢ƒæ­å»º å¯¼å…¥ä¾èµ– &lt;!-- Mybatisæ ¸å¿ƒ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.5.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MySQLé©±åŠ¨ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.reus09.top/posts/tech/mybatis/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-29T09:17:06+00:00" />
<meta property="article:modified_time" content="2022-09-11T16:08:48+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Mybatis"/>
<meta name="twitter:description" content="MyBatis è¿™é‡Œæ•´ç†äº†MyBatisçš„å¸¸è§ç”¨æ³• Mybatis ä¸»è¦å¯¹æ•°æ®åº“çš„æ“ä½œæä¾›äº†ç»„ä»¶ 1 ç¯å¢ƒæ­å»º å¯¼å…¥ä¾èµ– &lt;!-- Mybatisæ ¸å¿ƒ --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.5.7&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MySQLé©±åŠ¨ --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ“šæ–‡ç« ",
      "item": "http://www.reus09.top/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "ğŸ‘¨ğŸ»â€ğŸ’»æŠ€æœ¯",
      "item": "http://www.reus09.top/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "Mybatis",
      "item": "http://www.reus09.top/posts/tech/mybatis/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Mybatis",
  "name": "Mybatis",
  "description": "MyBatis è¿™é‡Œæ•´ç†äº†MyBatisçš„å¸¸è§ç”¨æ³• Mybatis ä¸»è¦å¯¹æ•°æ®åº“çš„æ“ä½œæä¾›äº†ç»„ä»¶ 1 ç¯å¢ƒæ­å»º å¯¼å…¥ä¾èµ– \u0026lt;!-- Mybatisæ ¸å¿ƒ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.7\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MySQLé©±åŠ¨ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt;",
  "keywords": [
    "SSM"
  ],
  "articleBody": "MyBatis è¿™é‡Œæ•´ç†äº†MyBatisçš„å¸¸è§ç”¨æ³• Mybatis ä¸»è¦å¯¹æ•°æ®åº“çš„æ“ä½œæä¾›äº†ç»„ä»¶ 1 ç¯å¢ƒæ­å»º å¯¼å…¥ä¾èµ–\norg.mybatis mybatis 3.5.7 mysql mysql-connector-java 8.0.27 åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶\nmybatis-config.xml\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\" ?\u003e \u003c!DOCTYPE configuration PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\"\u003e ",
  "wordCount" : "8562",
  "inLanguage": "en",
  "datePublished": "2022-04-29T09:17:06Z",
  "dateModified": "2022-09-11T16:08:48+08:00",
  "author":[{
    "@type": "Person",
    "name": "Reus09"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://www.reus09.top/posts/tech/mybatis/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Reus09's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/20211103151005.jpeg"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://www.reus09.top" accesskey="h" title="Reus09&#39;s Blog (Alt + H)">Reus09&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://www.reus09.top/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="http://www.reus09.top/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="http://www.reus09.top/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="http://www.reus09.top/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="http://www.reus09.top/categories" title="ğŸ§©åˆ†ç±»">
                    <span>ğŸ§©åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="http://www.reus09.top/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="http://www.reus09.top/about" title="ğŸ™‹ğŸ»â€â™‚ï¸å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span>
                </a>
            </li>
            <li>
                <a href="http://www.reus09.top/links" title="ğŸ¤å‹é“¾">
                    <span>ğŸ¤å‹é“¾</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://www.reus09.top">Home</a>&nbsp;Â»&nbsp;<a href="http://www.reus09.top/posts/">ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href="http://www.reus09.top/posts/tech/">ğŸ‘¨ğŸ»â€ğŸ’»æŠ€æœ¯</a></div>
    <h1 class="post-title">
      Mybatis
    </h1>
    <div class="post-meta"><span title='2022-04-29 09:17:06 +0000 UTC'>2022-04-29</span>&nbsp;Â·&nbsp;18 min&nbsp;Â·&nbsp;Reus09

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#mybatis" aria-label="MyBatis">MyBatis</a><ul>
                            
                    <li>
                        <a href="#1-%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" aria-label="1 ç¯å¢ƒæ­å»º">1 ç¯å¢ƒæ­å»º</a></li>
                    <li>
                        <a href="#2-%e5%85%b7%e4%bd%93%e9%85%8d%e7%bd%ae%e5%8f%8a%e8%b0%83%e7%94%a8" aria-label="2 å…·ä½“é…ç½®åŠè°ƒç”¨">2 å…·ä½“é…ç½®åŠè°ƒç”¨</a></li>
                    <li>
                        <a href="#3-%e8%8e%b7%e5%8f%96%e5%8f%82%e6%95%b0" aria-label="3 è·å–å‚æ•°">3 è·å–å‚æ•°</a><ul>
                            
                    <li>
                        <a href="#31-%e5%8d%95%e4%b8%aa%e5%ad%97%e9%9d%a2%e9%87%8f%e7%b1%bb%e5%9e%8b%e6%95%b0%e6%8d%ae" aria-label="3.1 å•ä¸ªå­—é¢é‡ç±»å‹æ•°æ®">3.1 å•ä¸ªå­—é¢é‡ç±»å‹æ•°æ®</a></li>
                    <li>
                        <a href="#32-%e5%a4%9a%e4%b8%aa%e4%b8%aa%e5%ad%97%e9%9d%a2%e9%87%8f%e7%b1%bb%e5%9e%8b%e6%95%b0%e6%8d%ae" aria-label="3.2 å¤šä¸ªä¸ªå­—é¢é‡ç±»å‹æ•°æ®">3.2 å¤šä¸ªä¸ªå­—é¢é‡ç±»å‹æ•°æ®</a></li>
                    <li>
                        <a href="#33-map%e9%9b%86%e5%90%88%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%8f%82%e6%95%b0" aria-label="3.3 mapé›†åˆç±»å‹çš„å‚æ•°">3.3 mapé›†åˆç±»å‹çš„å‚æ•°</a></li>
                    <li>
                        <a href="#34-%e5%ae%9e%e4%bd%93%e7%b1%bb%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%8f%82%e6%95%b0" aria-label="3.4 å®ä½“ç±»ç±»å‹çš„å‚æ•°">3.4 å®ä½“ç±»ç±»å‹çš„å‚æ•°</a></li>
                    <li>
                        <a href="#35-%e4%bd%bf%e7%94%a8param%e6%a0%87%e8%af%86%e5%8f%82%e6%95%b0" aria-label="3.5 ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°">3.5 ä½¿ç”¨<code>@Param</code>æ ‡è¯†å‚æ•°</a></li></ul>
                    </li>
                    <li>
                        <a href="#4-%e5%90%84%e7%a7%8d%e6%9f%a5%e8%af%a2" aria-label="4 å„ç§æŸ¥è¯¢">4 å„ç§æŸ¥è¯¢</a></li>
                    <li>
                        <a href="#5-%e7%89%b9%e6%ae%8asql%e7%9a%84%e6%89%a7%e8%a1%8c" aria-label="5 ç‰¹æ®ŠSQLçš„æ‰§è¡Œ">5 ç‰¹æ®ŠSQLçš„æ‰§è¡Œ</a><ul>
                            
                    <li>
                        <a href="#51-%e6%a8%a1%e7%b3%8a%e6%9f%a5%e8%af%a2" aria-label="5.1 æ¨¡ç³ŠæŸ¥è¯¢">5.1 æ¨¡ç³ŠæŸ¥è¯¢</a></li>
                    <li>
                        <a href="#52-%e6%89%b9%e9%87%8f%e5%88%a0%e9%99%a4" aria-label="5.2 æ‰¹é‡åˆ é™¤">5.2 æ‰¹é‡åˆ é™¤</a></li>
                    <li>
                        <a href="#53-%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e8%a1%a8%e5%90%8d" aria-label="5.3 åŠ¨æ€è®¾ç½®è¡¨å">5.3 åŠ¨æ€è®¾ç½®è¡¨å</a></li>
                    <li>
                        <a href="#54-%e6%b7%bb%e5%8a%a0%e5%8a%9f%e8%83%bd%e8%8e%b7%e5%8f%96%e8%87%aa%e5%a2%9e%e7%9a%84%e4%b8%bb%e9%94%ae" aria-label="5.4 æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®">5.4 æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</a></li></ul>
                    </li>
                    <li>
                        <a href="#6-%e8%87%aa%e5%ae%9a%e4%b9%89%e6%98%a0%e5%b0%84resultmap" aria-label="6 è‡ªå®šä¹‰æ˜ å°„resultMap">6 è‡ªå®šä¹‰æ˜ å°„resultMap</a><ul>
                            
                    <li>
                        <a href="#61-%e4%b8%80%e5%af%b9%e4%b8%80%e6%98%a0%e5%b0%84" aria-label="6.1 ä¸€å¯¹ä¸€æ˜ å°„">6.1 ä¸€å¯¹ä¸€æ˜ å°„</a></li>
                    <li>
                        <a href="#62-%e5%a4%9a%e5%af%b9%e4%b8%80%e6%98%a0%e5%b0%84" aria-label="6.2 å¤šå¯¹ä¸€æ˜ å°„">6.2 å¤šå¯¹ä¸€æ˜ å°„</a></li>
                    <li>
                        <a href="#63-%e4%b8%80%e5%af%b9%e5%a4%9a%e6%98%a0%e5%b0%84%e5%a4%84%e7%90%86" aria-label="6.3 ä¸€å¯¹å¤šæ˜ å°„å¤„ç†">6.3 ä¸€å¯¹å¤šæ˜ å°„å¤„ç†</a></li></ul>
                    </li>
                    <li>
                        <a href="#7-%e5%bb%b6%e8%bf%9f%e5%8a%a0%e8%bd%bd" aria-label="7 å»¶è¿ŸåŠ è½½">7 å»¶è¿ŸåŠ è½½</a></li>
                    <li>
                        <a href="#8-%e5%8a%a8%e6%80%81sql" aria-label="8 åŠ¨æ€sql">8 åŠ¨æ€sql</a><ul>
                            
                    <li>
                        <a href="#81-if" aria-label="8.1 if">8.1 if</a></li>
                    <li>
                        <a href="#82-where" aria-label="8.2 where">8.2 where</a></li>
                    <li>
                        <a href="#83-trim" aria-label="8.3 trim">8.3 trim</a></li>
                    <li>
                        <a href="#84-choosewhenotherwise" aria-label="8.4 chooseã€whenã€otherwise">8.4 chooseã€whenã€otherwise</a></li>
                    <li>
                        <a href="#85-foreach" aria-label="8.5 foreach">8.5 foreach</a></li>
                    <li>
                        <a href="#86-sql-%e7%89%87%e6%ae%b5" aria-label="8.6 sql ç‰‡æ®µ">8.6 sql ç‰‡æ®µ</a></li></ul>
                    </li>
                    <li>
                        <a href="#9-mybatis%e7%9a%84%e9%80%86%e5%90%91%e5%b7%a5%e7%a8%8b" aria-label="9 MyBatisçš„é€†å‘å·¥ç¨‹">9 MyBatisçš„é€†å‘å·¥ç¨‹</a></li>
                    <li>
                        <a href="#10-%e9%85%8d%e7%bd%ae%e5%88%86%e9%a1%b5%e6%8f%92%e4%bb%b6" aria-label="10 é…ç½®åˆ†é¡µæ’ä»¶">10 é…ç½®åˆ†é¡µæ’ä»¶</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="mybatis">MyBatis<a hidden class="anchor" aria-hidden="true" href="#mybatis">#</a></h1>
<ul>
<li>è¿™é‡Œæ•´ç†äº†<code>MyBatis</code>çš„å¸¸è§ç”¨æ³•</li>
<li>Mybatis ä¸»è¦å¯¹æ•°æ®åº“çš„æ“ä½œæä¾›äº†ç»„ä»¶</li>
</ul>
<h2 id="1-ç¯å¢ƒæ­å»º">1 ç¯å¢ƒæ­å»º<a hidden class="anchor" aria-hidden="true" href="#1-ç¯å¢ƒæ­å»º">#</a></h2>
<ul>
<li>
<p>å¯¼å…¥ä¾èµ–</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- Mybatisæ ¸å¿ƒ --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;groupId&gt;</span>org.mybatis<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;artifactId&gt;</span>mybatis<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;version&gt;</span>3.5.7<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;groupId&gt;</span>mysql<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;artifactId&gt;</span>mysql-connector-java<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;version&gt;</span>8.0.27<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</p>
<ul>
<li>
<p><code>mybatis-config.xml</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE configuration
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        PUBLIC &#34;-//mybatis.org//DTD Config 3.0//EN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        &#34;http://mybatis.org/dtd/mybatis-3-config.dtd&#34;&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„æ ‡ç­¾å¿…é¡»æŒ‰ç…§å›ºå®šçš„é¡ºåº(æœ‰çš„æ ‡ç­¾å¯ä»¥ä¸å†™ï¼Œä½†é¡ºåºä¸€å®šä¸èƒ½ä¹±)ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">propertiesã€settingsã€typeAliasesã€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">typeHandlersã€objectFactoryã€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">objectWrapperFactoryã€reflectorFactoryã€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">pluginsã€environmentsã€databaseIdProviderã€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">mappers
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">--&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- å¼•å…¥ jdbcçš„é…ç½®æ–‡ä»¶ --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;properties</span> <span style="color:#007f7f">resource=</span><span style="color:#0ff;font-weight:bold">&#34;jdbc.properties&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- è®¾ç½®Mybatis çš„å…¨å±€é…ç½®--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;settings&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--å°†è¡¨ä¸­å­—æ®µçš„ä¸‹åˆ’çº¿è‡ªåŠ¨è½¬æ¢ä¸ºé©¼å³°--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;setting</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;mapUnderscoreToCamelCase&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;setting</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;lazyLoadingEnabled&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/settings&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- è®¾ç½®ç±»å‹åˆ«å--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;typeAliases&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--typeAlias è®¾ç½®ç±»å‹åˆ«å
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            type
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            alias : è®¾ç½®æŸä¸ªç±»å‹çš„åˆ«åï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™å­˜åœ¨ä¸€ä¸ªå›ºå®šçš„ç±»å
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--        &lt;typeAlias type=&#34;com.reus.mybatis.pojo.User&#34; alias = &#34;User&#34;&gt;&lt;/typeAlias&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- ä»¥åŒ…ä¸ºå•ä½ ï¼Œå°†åŒ…ä¸‹çš„æ‰€æœ‰æ•°æ®è®¾ç½®ä¸ºé»˜è®¤çš„ç±»å‹åˆ«åï¼Œå³ç±»åä¸åŒºåˆ†å¸¦å¤§å°å†™ --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;package</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;com.reus.mybatis.pojo&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/typeAliases&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--è®¾ç½®åˆ†é¡µæ’ä»¶--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;plugin</span> <span style="color:#007f7f">interceptor=</span><span style="color:#0ff;font-weight:bold">&#34;com.github.pagehelper.PageInterceptor&#34;</span><span style="font-weight:bold">&gt;&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        environments:é…ç½®å¤šä¸ª æ•°æ®åº“çš„ç¯å¢ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        å±æ€§ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            default: é»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒçš„Id
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;environments</span> <span style="color:#007f7f">default=</span><span style="color:#0ff;font-weight:bold">&#34;development&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- é…ç½®å…·ä½“çš„ç¯å¢ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            å±æ€§: id, å”¯ä¸€æ ‡è¯†
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                 asd
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;environment</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;development&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">&lt;!-- transactionManager: è®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                    JDBC  å½“å‰ç¯å¢ƒæ‰§è¡Œsqlæ—¶ï¼Œä½¿ç”¨JDBCåŸç”Ÿçš„äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œäº‹åŠ¡çš„æäº¤å’Œå›æ»šéœ€è¦æ‰‹åŠ¨å¤„ç†
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                    MANAGED ï¼š è¢«Springç®¡ç†
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                    --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;transactionManager</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;JDBC&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">&lt;!--åˆ¶å®š æ•°æ®æº
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                    Type: æ•°æ®ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                          POOLED æ•°æ®åº“ä½¿ç”¨ç¼“å­˜æ•°æ®åº“è¿æ¥
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                          UNPOOLED ä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                          JNDI ä½¿ç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æº
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                          --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;dataSource</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;POOLED&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;driver&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;${jdbc.driver}&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;url&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;${jdbc.url}&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;username&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;${jdbc.username}&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;password&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;${jdbc.password}&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;/dataSource&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/environment&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/environments&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;mappers&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--        &lt;mapper resource=&#34;mappers/UserMapper.xml&#34;/&gt;--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">               ä»¥åŒ…ä¸ºå•ä½å¼•å…¥æ˜ å°„æ–‡ä»¶
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">               è¦æ±‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">               1ã€mapperæ¥å£æ‰€åœ¨çš„åŒ…è¦å’Œæ˜ å°„æ–‡ä»¶æ‰€åœ¨çš„åŒ…ä¸€è‡´
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">               2ã€mapperæ¥å£è¦å’Œæ˜ å°„æ–‡ä»¶çš„åå­—ä¸€è‡´
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;package</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;com.reus.mybatis.mapper&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/mappers&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/configuration&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h2 id="2-å…·ä½“é…ç½®åŠè°ƒç”¨">2 å…·ä½“é…ç½®åŠè°ƒç”¨<a hidden class="anchor" aria-hidden="true" href="#2-å…·ä½“é…ç½®åŠè°ƒç”¨">#</a></h2>
<ul>
<li>
<p>åˆ›å»º<code>mapperæ¥å£</code></p>
<ul>
<li>
<p>MyBatisä¸­çš„mapperæ¥å£ç›¸å½“äºä»¥å‰çš„daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼Œmapperä»…ä»…æ˜¯æ¥å£ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.reus.mybatis.mapper;  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> UserMapper {  
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">/**  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	* æ·»åŠ ç”¨æˆ·ä¿¡æ¯  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	*/</span>  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">int</span> insertUser();  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>åˆ›å»ºå¯¹åº”çš„<code>Mybatis</code>æ˜ å°„æ–‡ä»¶</p>
<ul>
<li>ç›¸å…³æ¦‚å¿µï¼šORMï¼ˆObject Relationship Mappingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ã€‚</li>
<li>å¯¹è±¡ï¼šJavaçš„å®ä½“ç±»å¯¹è±¡
<ul>
<li>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</li>
<li>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³»</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Javaæ¦‚å¿µ</th>
<th>æ•°æ®åº“æ¦‚å¿µ</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç±»</td>
<td>è¡¨</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>å­—æ®µ/åˆ—</td>
</tr>
<tr>
<td>å¯¹è±¡</td>
<td>è®°å½•/è¡Œ</td>
</tr>
</tbody>
</table>
<ul>
<li>æ˜ å°„æ–‡ä»¶çš„å‘½åè§„åˆ™</li>
<li>è¡¨æ‰€å¯¹åº”çš„å®ä½“ç±»çš„ç±»å+Mapper.xml
<ul>
<li>ä¾‹å¦‚ï¼šè¡¨t_userï¼Œæ˜ å°„çš„å®ä½“ç±»ä¸ºUserï¼Œæ‰€å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸ºUserMapper.xml</li>
<li>å› æ­¤ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ç±»ï¼Œå¯¹åº”ä¸€å¼ è¡¨çš„æ“ä½œ</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶ç”¨äºç¼–å†™SQLï¼Œè®¿é—®ä»¥åŠæ“ä½œè¡¨ä¸­çš„æ•°æ®</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯<code>src/main/resources/mappers</code>ç›®å½•ä¸‹</li>
</ul>
</li>
<li>MyBatisä¸­å¯ä»¥é¢å‘æ¥å£æ“ä½œæ•°æ®ï¼Œè¦ä¿è¯ä¸¤ä¸ªä¸€è‡´</li>
<li>mapperæ¥å£çš„å…¨ç±»åå’Œæ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´<code>ï¼ˆnamespaceï¼‰</code>ä¿æŒä¸€è‡´
<ul>
<li>mapperæ¥å£ä¸­æ–¹æ³•çš„æ–¹æ³•åå’Œæ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLçš„æ ‡ç­¾çš„idå±æ€§ä¿æŒä¸€è‡´</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE mapper
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        PUBLIC &#34;-//mybatis.org//DTD Mapper 3.0//EN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        &#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&#34;&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;mapper</span> <span style="color:#007f7f">namespace=</span><span style="color:#0ff;font-weight:bold">&#34;com.reus.mybatis.mapper.UserMapper&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--int insertUser();--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;insertUser&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        insert into t_user values(null,&#39;å¼ ä¸‰&#39;,&#39;123&#39;,23,&#39;å¥³&#39;,&#39;123@qq.com&#39;)
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--updateUser--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;update</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;updateUser&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        update t_user set username = &#39;æå››&#39; where id = 4
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/update&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--void deleteUser();--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;delete</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;deleteUser&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        delete  from t_user where id = 4
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/delete&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--User getUserById();
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        å¿…é¡»è®¾ç½®å¯¹åº”çš„æ ‡ç­¾ resultType å’Œ resultMap
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        resultType : è®¾ç½®é»˜è®¤çš„æ˜ å°„å…³ç³»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        resultMap: è®¾ç½®è‡ªå®šä¹‰çš„æ˜ å°„å…³ç³»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getUserById&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        select  * from t_user where id = 3
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--List&lt;User&gt; getAllUser(); --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getAllUser&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        select * from t_user;
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/mapper&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>è·å–é…ç½®ä¸­çš„ä¿¡æ¯</p>
<ul>
<li>è¿ç”¨<code>SqlsessionFactory</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserMapperTest {
</span></span><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> testInsertUser() <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è¯»å–MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        InputStream is = Resources.<span style="color:#007f7f">getResourceAsStream</span>(<span style="color:#0ff;font-weight:bold">&#34;mybatis-config.xml&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è·å–SqlSessionFactoryBuilderå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        SqlSessionFactoryBuilder sqlSessionFactoryBuilder = <span style="color:#fff;font-weight:bold">new</span> SqlSessionFactoryBuilder();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//é€šè¿‡æ ¸å¿ƒé…ç½®æ–‡ä»¶æ‰€å¯¹åº”çš„å­—èŠ‚è¾“å…¥æµåˆ›å»ºå·¥å‚ç±»SqlSessionFactoryï¼Œç”Ÿäº§SqlSessionå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.<span style="color:#007f7f">build</span>(is);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è·å–sqlSessionï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½å¿…é¡»æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">//SqlSession sqlSession = sqlSessionFactory.openSession();
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	    <span style="color:#007f7f">//åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½ä¼šè‡ªåŠ¨æäº¤  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>		SqlSession sqlSession = sqlSessionFactory.<span style="color:#007f7f">openSession</span>(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//é€šè¿‡ä»£ç†æ¨¡å¼åˆ›å»ºUserMapperæ¥å£çš„ä»£ç†å®ç°ç±»å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        UserMapper userMapper = sqlSession.<span style="color:#007f7f">getMapper</span>(UserMapper.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è°ƒç”¨UserMapperæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æ ¹æ®UserMapperçš„å…¨ç±»ååŒ¹é…å…ƒç´ æ–‡ä»¶ï¼Œé€šè¿‡è°ƒç”¨çš„æ–¹æ³•ååŒ¹é…æ˜ å°„æ–‡ä»¶ä¸­çš„SQLæ ‡ç­¾ï¼Œå¹¶æ‰§è¡Œæ ‡ç­¾ä¸­çš„SQLè¯­å¥
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">int</span> result = userMapper.<span style="color:#007f7f">insertUser</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//æäº¤äº‹åŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">//sqlSession.commit();
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;result:&#34;</span> + result);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h2 id="3-è·å–å‚æ•°">3 è·å–å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#3-è·å–å‚æ•°">#</a></h2>
<ul>
<li>MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š<code>${}</code>å’Œ<code>#{}  </code></li>
<li><code>${}</code>çš„æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ<code>#{}</code>çš„æœ¬è´¨å°±æ˜¯å ä½ç¬¦èµ‹å€¼</li>
<li><code>${}</code>ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼æ‹¼æ¥<code>sql</code>ï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ï¼›ä½†æ˜¯<code>#{}</code>ä½¿ç”¨å ä½ç¬¦èµ‹å€¼çš„æ–¹å¼æ‹¼æ¥sqlï¼Œæ­¤æ—¶ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·</li>
</ul>
<h3 id="31-å•ä¸ªå­—é¢é‡ç±»å‹æ•°æ®">3.1 å•ä¸ªå­—é¢é‡ç±»å‹æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#31-å•ä¸ªå­—é¢é‡ç±»å‹æ•°æ®">#</a></h3>
<ul>
<li>
<p>å•ä¸ªå­—é¢é‡ç±»å‹æ•°æ®</p>
<ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå•ä¸ªçš„å­—é¢é‡ç±»å‹ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ä»¥ä»»æ„çš„åç§°ï¼ˆæœ€å¥½è§åè¯†æ„ï¼‰è·å–å‚æ•°çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--User getUserByUsername(String username);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getUserByUsername&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_user where username = #{username}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--User getUserByUsername(String username);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getUserByUsername&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span>	select * from t_user where username = &#39;${username}&#39;  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="32-å¤šä¸ªä¸ªå­—é¢é‡ç±»å‹æ•°æ®">3.2 å¤šä¸ªä¸ªå­—é¢é‡ç±»å‹æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#32-å¤šä¸ªä¸ªå­—é¢é‡ç±»å‹æ•°æ®">#</a></h3>
<ul>
<li>
<p>å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</p>
<ul>
<li>
<p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶MyBatisä¼šè‡ªåŠ¨å°†è¿™äº›å‚æ•°æ”¾åœ¨ä¸€ä¸ªmapé›†åˆä¸­</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>1. ä»¥arg0,arg1...ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›
</span></span><span style="display:flex;"><span>2. ä»¥param1,param2...ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›
</span></span></code></pre></div></li>
<li>
<p>å› æ­¤åªéœ€è¦é€šè¿‡<code>\${}</code>å’Œ<code>#{}è®¿</code>é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>arg</code>æˆ–è€…<code>param</code>éƒ½è¡Œï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œargæ˜¯ä»arg0å¼€å§‹çš„ï¼Œ<code>param</code>æ˜¯ä»<code>param1</code>å¼€å§‹çš„</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--User checkLogin(String username,String password);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;checkLogin&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span>	select * from t_user where username = #{arg0} and password = #{arg1}  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--User checkLogin(String username,String password);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;checkLogin&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_user where username = &#39;${param1}&#39; and password = &#39;${param2}&#39;
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h3 id="33-mapé›†åˆç±»å‹çš„å‚æ•°">3.3 mapé›†åˆç±»å‹çš„å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#33-mapé›†åˆç±»å‹çš„å‚æ•°">#</a></h3>
<ul>
<li>
<p>è‹¥<code>mapper</code>æ¥å£ä¸­çš„æ–¹æ³•éœ€è¦çš„å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨åˆ›å»ºmapé›†åˆï¼Œå°†è¿™äº›æ•°æ®æ”¾åœ¨mapä¸­åªéœ€è¦é€šè¿‡<code>\${}å’Œ#{}</code>è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„<code>${}</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p>
<ul>
<li>å³æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª<code>map</code>é›†åˆï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™é…ç½®ï¼Œé…ç½®ä¸­å³å¯ä½¿ç”¨<code>map</code>æ¥è·å–æ•°æ®</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--User checkLoginByMap(Map&lt;String,Object&gt; map);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;checkLoginByMap&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_user where username = #{username} and password = #{password}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> checkLoginByMap() {
</span></span><span style="display:flex;"><span>	SqlSession sqlSession = SqlSessionUtils.<span style="color:#007f7f">getSqlSession</span>();
</span></span><span style="display:flex;"><span>	ParameterMapper mapper = sqlSession.<span style="color:#007f7f">getMapper</span>(ParameterMapper.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>	Map&lt;String,Object&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>	map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;usermane&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;admin&#34;</span>);
</span></span><span style="display:flex;"><span>	map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;123456&#34;</span>);
</span></span><span style="display:flex;"><span>	User user = mapper.<span style="color:#007f7f">checkLoginByMap</span>(map);
</span></span><span style="display:flex;"><span>	System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(user);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h3 id="34-å®ä½“ç±»ç±»å‹çš„å‚æ•°">3.4 å®ä½“ç±»ç±»å‹çš„å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#34-å®ä½“ç±»ç±»å‹çš„å‚æ•°">#</a></h3>
<ul>
<li>
<p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå®ä½“ç±»å¯¹è±¡æ—¶æ­¤æ—¶å¯ä»¥ä½¿ç”¨<code>\${}å’Œ#{}</code>ï¼Œé€šè¿‡è®¿é—®å®ä½“ç±»å¯¹è±¡ä¸­çš„å±æ€§åè·å–å±æ€§å€¼ï¼Œæ³¨æ„<code>${}</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p>
<ul>
<li>è¿™æ˜¯åº”ä¸ºä¸€ä¸ªç±»å‹ä¸­çš„å‚æ•°åç›¸å½“ä¸<code>map</code> ä¸­çš„<code>key</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--int insertUser(User user);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;insertUser&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	insert into t_user values(null,#{username},#{password},#{age},#{sex},#{email})
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> insertUser() {
</span></span><span style="display:flex;"><span>	SqlSession sqlSession = SqlSessionUtils.<span style="color:#007f7f">getSqlSession</span>();
</span></span><span style="display:flex;"><span>	ParameterMapper mapper = sqlSession.<span style="color:#007f7f">getMapper</span>(ParameterMapper.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>	User user = <span style="color:#fff;font-weight:bold">new</span> User(<span style="color:#fff;font-weight:bold">null</span>,<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;123456&#34;</span>,12,<span style="color:#0ff;font-weight:bold">&#34;ç”·&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;123@321.com&#34;</span>);
</span></span><span style="display:flex;"><span>	mapper.<span style="color:#007f7f">insertUser</span>(user);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h3 id="35-ä½¿ç”¨paramæ ‡è¯†å‚æ•°">3.5 ä½¿ç”¨<code>@Param</code>æ ‡è¯†å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#35-ä½¿ç”¨paramæ ‡è¯†å‚æ•°">#</a></h3>
<ul>
<li>
<p>å¯ä»¥é€šè¿‡@Paramæ³¨è§£æ ‡è¯†mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ï¼Œæ­¤æ—¶ï¼Œä¼šå°†è¿™äº›å‚æ•°æ”¾åœ¨mapé›†åˆä¸­</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--User CheckLoginByParam(@Param(&#34;username&#34;) String username, @Param(&#34;password&#34;) String password);--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;CheckLoginByParam&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        select * from t_user where username = #{username} and password = #{password}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="4-å„ç§æŸ¥è¯¢">4 å„ç§æŸ¥è¯¢<a hidden class="anchor" aria-hidden="true" href="#4-å„ç§æŸ¥è¯¢">#</a></h2>
<ul>
<li>
<p>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥é€šè¿‡</p>
<ol>
<li>å®ä½“ç±»å¯¹è±¡æ¥æ”¶</li>
<li>Listé›†åˆæ¥æ”¶</li>
<li>Mapé›†åˆæ¥æ”¶ï¼Œç»“æœ<code>{password=123456, sex=ç”·, id=1, age=23, username=admin}</code></li>
</ol>
</li>
<li>
<p>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®æœ‰å¤šæ¡ï¼Œä¸€å®šä¸èƒ½ç”¨å®ä½“ç±»å¯¹è±¡æ¥æ”¶ï¼Œä¼šæŠ›å¼‚å¸¸TooManyResultsExceptionï¼Œå¯ä»¥é€šè¿‡</p>
<ol>
<li>å®ä½“ç±»ç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>Mapç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>åœ¨mapperæ¥å£çš„æ–¹æ³•ä¸Šæ·»åŠ <code>@MapKey</code>æ³¨è§£</li>
</ol>
</li>
<li>
<p>å› ä¸ºæŸ¥è¯¢æ•°æ®åªæœ‰ä¸€æ¡è¾ƒä¸ºç®€å•ï¼Œå°±ä¸åœ¨èµ˜è¿°ï¼Œè¿™é‡Œåªè®²ä¸€ä¸‹å¤šæ¡æ•°æ®çš„æƒ…å†µ</p>
</li>
<li>
<p>å¤šæ¡æ•°æ®</p>
<ul>
<li>
<p>æ³•ä¸€</p>
<ul>
<li>æŸ¥è¯¢ç»“æœä¸ºä¸€ä¸ª<code>map</code>çš„<code>list</code>é›†åˆ</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œæ­¤æ—¶å¯ä»¥å°†è¿™äº›mapæ”¾åœ¨ä¸€ä¸ªlisté›†åˆä¸­è·å–  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>  
</span></span><span style="display:flex;"><span>List&lt;Map&lt;String, Object&gt;&gt; getAllUserToMap();
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span>  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getAllUserToMap&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;map&#34;</span><span style="font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span>	select * from t_user  
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	ç»“æœï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	[{password=123456, sex=ç”·, id=1, age=23, username=admin},
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	{password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰},
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	{password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰}]
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">--&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>æ³•äºŒ</p>
<ul>
<li>æ ¹æ®<code>@MapKey</code>æŒ‡å®šä¸€ä¸ªä¸»é”®</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œå¹¶ä¸”æœ€ç»ˆè¦ä»¥ä¸€ä¸ªmapçš„æ–¹å¼è¿”å›æ•°æ®ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡@MapKeyæ³¨è§£è®¾ç½®mapé›†åˆçš„é”®ï¼Œå€¼æ˜¯æ¯æ¡æ•°æ®æ‰€å¯¹åº”çš„mapé›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>@MapKey(<span style="color:#0ff;font-weight:bold">&#34;id&#34;</span>)
</span></span><span style="display:flex;"><span>Map&lt;String, Object&gt; getAllUserToMap();
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getAllUserToMap&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;map&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_user
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	ç»“æœï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	{
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	1={password=123456, sex=ç”·, id=1, age=23, username=admin},
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	2={password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰},
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	3={password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰}
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	}
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">--&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h2 id="5-ç‰¹æ®Šsqlçš„æ‰§è¡Œ">5 ç‰¹æ®ŠSQLçš„æ‰§è¡Œ<a hidden class="anchor" aria-hidden="true" href="#5-ç‰¹æ®Šsqlçš„æ‰§è¡Œ">#</a></h2>
<h3 id="51-æ¨¡ç³ŠæŸ¥è¯¢">5.1 æ¨¡ç³ŠæŸ¥è¯¢<a hidden class="anchor" aria-hidden="true" href="#51-æ¨¡ç³ŠæŸ¥è¯¢">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * æ ¹æ®ç”¨æˆ·åè¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param username 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/26 21:56
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>List&lt;User&gt; getUserByLike(@Param(<span style="color:#0ff;font-weight:bold">&#34;username&#34;</span>) String username);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;User&gt; getUserByLike(@Param(&#34;username&#34;) String username);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getUserByLike&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!--select * from t_user where username like &#39;%${mohu}%&#39;--&gt;</span>  
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!--select * from t_user where username like concat(&#39;%&#39;,#{mohu},&#39;%&#39;)--&gt;</span>  
</span></span><span style="display:flex;"><span>	select * from t_user where username like &#34;%&#34;#{mohu}&#34;%&#34;
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div><ul>
<li>å…¶ä¸­<code>select * from t_user where username like &quot;%&quot;#{mohu}&quot;%&quot;</code>æ˜¯æœ€å¸¸ç”¨çš„</li>
</ul>
<h3 id="52-æ‰¹é‡åˆ é™¤">5.2 æ‰¹é‡åˆ é™¤<a hidden class="anchor" aria-hidden="true" href="#52-æ‰¹é‡åˆ é™¤">#</a></h3>
<ul>
<li>
<p>åªèƒ½ä½¿ç”¨<code>${}</code>ï¼Œå¦‚æœä½¿ç”¨<code>#{}</code>ï¼Œåˆ™è§£æåçš„sqlè¯­å¥ä¸º<code>delete from t_user where id in ('1,2,3')</code>ï¼Œè¿™æ ·æ˜¯å°†<code>1,2,3</code>çœ‹åšæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œåªæœ‰idä¸º<code>1,2,3</code>çš„æ•°æ®ä¼šè¢«åˆ é™¤ã€‚æ­£ç¡®çš„è¯­å¥åº”è¯¥æ˜¯<code>delete from t_user where id in (1,2,3)</code>ï¼Œæˆ–è€…<code>delete from t_user where id in ('1','2','3')</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * æ ¹æ®idæ‰¹é‡åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param ids 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return int
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/26 22:06
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> deleteMore(@Param(<span style="color:#0ff;font-weight:bold">&#34;ids&#34;</span>) String ids);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;delete</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;deleteMore&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	delete from t_user where id in (${ids})
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/delete&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="53-åŠ¨æ€è®¾ç½®è¡¨å">5.3 åŠ¨æ€è®¾ç½®è¡¨å<a hidden class="anchor" aria-hidden="true" href="#53-åŠ¨æ€è®¾ç½®è¡¨å">#</a></h3>
<ul>
<li>
<p>åªèƒ½ä½¿ç”¨<code>${}</code>ï¼Œå› ä¸ºè¡¨åä¸èƒ½åŠ å•å¼•å·</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * æŸ¥è¯¢æŒ‡å®šè¡¨ä¸­çš„æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param tableName 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/27 14:41
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>List&lt;User&gt; getUserByTable(@Param(<span style="color:#0ff;font-weight:bold">&#34;tableName&#34;</span>) String tableName);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;User&gt; getUserByTable(@Param(&#34;tableName&#34;) String tableName);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getUserByTable&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;User&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from ${tableName}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="54-æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®">5.4 æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®<a hidden class="anchor" aria-hidden="true" href="#54-æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®">#</a></h3>
<ul>
<li>
<p>ä½¿ç”¨åœºæ™¯</p>
</li>
<li>
<p>t_clazz(clazz_id,clazz_name)</p>
<ul>
<li>t_student(student_id,student_name,clazz_id)</li>
</ul>
<ol>
<li>æ·»åŠ ç­çº§ä¿¡æ¯</li>
<li>è·å–æ–°æ·»åŠ çš„ç­çº§çš„id</li>
<li>ä¸ºç­çº§åˆ†é…å­¦ç”Ÿï¼Œå³å°†æŸå­¦çš„ç­çº§idä¿®æ”¹ä¸ºæ–°æ·»åŠ çš„ç­çº§çš„id</li>
</ol>
</li>
<li>
<p>åœ¨mapper.xmlä¸­è®¾ç½®ä¸¤ä¸ªå±æ€§</p>
</li>
<li>
<p>useGeneratedKeysï¼šè®¾ç½®ä½¿ç”¨è‡ªå¢çš„ä¸»é”®</p>
<ul>
<li>
<p>keyPropertyï¼šå› ä¸ºå¢åˆ æ”¹æœ‰ç»Ÿä¸€çš„è¿”å›å€¼æ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œå› æ­¤åªèƒ½å°†è·å–çš„è‡ªå¢çš„ä¸»é”®æ”¾åœ¨ä¼ è¾“çš„å‚æ•°userå¯¹è±¡çš„æŸä¸ªå±æ€§ä¸­</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * æ·»åŠ ç”¨æˆ·ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param user 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/27 15:04
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> insertUser(User user);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--void insertUser(User user);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;insertUser&#34;</span> <span style="color:#007f7f">useGeneratedKeys=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="color:#007f7f">keyProperty=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	insert into t_user values (null,#{username},#{password},#{age},#{sex},#{email})
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//æµ‹è¯•ç±»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>@Test
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> insertUser() {
</span></span><span style="display:flex;"><span>	SqlSession sqlSession = SqlSessionUtils.<span style="color:#007f7f">getSqlSession</span>();
</span></span><span style="display:flex;"><span>	SQLMapper mapper = sqlSession.<span style="color:#007f7f">getMapper</span>(SQLMapper.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>	User user = <span style="color:#fff;font-weight:bold">new</span> User(<span style="color:#fff;font-weight:bold">null</span>, <span style="color:#0ff;font-weight:bold">&#34;ton&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;123&#34;</span>, 23, <span style="color:#0ff;font-weight:bold">&#34;ç”·&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;123@321.com&#34;</span>);
</span></span><span style="display:flex;"><span>	mapper.<span style="color:#007f7f">insertUser</span>(user);
</span></span><span style="display:flex;"><span>	System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(user);
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//è¾“å‡ºï¼šuser{id=10, username=&#39;ton&#39;, password=&#39;123&#39;, age=23, sex=&#39;ç”·&#39;, email=&#39;123@321.com&#39;}ï¼Œè‡ªå¢ä¸»é”®å­˜æ”¾åˆ°äº†userçš„idå±æ€§ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></div></li>
<li>
<p>å› ä¸ºå¦‚æœä¸è®¾ç½®<code>useGeneratedKeys</code>,æˆ‘ä»¬æ’å…¥ä¹‹åï¼Œå¾—åˆ°çš„è¿™ä¸ª<code>user</code>å¯¹è±¡çš„<code>id</code>æ²¡æœ‰è®¾ç½®ï¼Œä»ä¸º<code>null</code>ï¼Œå‡å¦‚å®ƒçš„ç›®çš„å³ä¸ºå°†æ•°æ®æ’å…¥åˆ°æ•°æ®åº“ä¸­å¾—åˆ°çš„<code>id</code>è¿”å›ç»™åç«¯çš„<code>user</code>å¯¹è±¡ï¼Œå¯¹å…¶èµ‹å€¼</p>
</li>
</ul>
</li>
</ul>
<h2 id="6-è‡ªå®šä¹‰æ˜ å°„resultmap">6 è‡ªå®šä¹‰æ˜ å°„resultMap<a hidden class="anchor" aria-hidden="true" href="#6-è‡ªå®šä¹‰æ˜ å°„resultmap">#</a></h2>
<ul>
<li><code>resultMap</code>ï¼šè®¾ç½®è‡ªå®šä¹‰æ˜ å°„</li>
<li>å±æ€§ï¼š
<ul>
<li>idï¼šè¡¨ç¤ºè‡ªå®šä¹‰æ˜ å°„çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½é‡å¤</li>
<li>typeï¼šæŸ¥è¯¢çš„æ•°æ®è¦æ˜ å°„çš„å®ä½“ç±»çš„ç±»å‹</li>
<li>å­æ ‡ç­¾ï¼š</li>
<li>idï¼šè®¾ç½®ä¸»é”®çš„æ˜ å°„å…³ç³»
<ul>
<li>resultï¼šè®¾ç½®æ™®é€šå­—æ®µçš„æ˜ å°„å…³ç³»</li>
<li>å­æ ‡ç­¾å±æ€§ï¼š</li>
<li>propertyï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­å®ä½“ç±»ä¸­çš„å±æ€§å
<ul>
<li>columnï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­è¡¨ä¸­çš„å­—æ®µå</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="61-ä¸€å¯¹ä¸€æ˜ å°„">6.1 ä¸€å¯¹ä¸€æ˜ å°„<a hidden class="anchor" aria-hidden="true" href="#61-ä¸€å¯¹ä¸€æ˜ å°„">#</a></h3>
<ul>
<li>
<p>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œåˆ™å¯ä»¥é€šè¿‡resultMapè®¾ç½®è‡ªå®šä¹‰æ˜ å°„ï¼Œå³ä½¿å­—æ®µåå’Œå±æ€§åä¸€è‡´çš„å±æ€§ä¹Ÿè¦æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯å…¨éƒ¨å±æ€§éƒ½è¦åˆ—å‡ºæ¥</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;empResultMap&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;empName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;emp_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getAllEmp&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;empResultMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œä½†æ˜¯å­—æ®µåç¬¦åˆæ•°æ®åº“çš„è§„åˆ™ï¼ˆä½¿ç”¨_ï¼‰ï¼Œå®ä½“ç±»ä¸­çš„å±æ€§åç¬¦åˆJavaçš„è§„åˆ™ï¼ˆä½¿ç”¨é©¼å³°ï¼‰ã€‚æ­¤æ—¶ä¹Ÿå¯é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¤„ç†å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§çš„æ˜ å°„å…³ç³»</p>
<ul>
<li>
<p><code>sql</code>è¯­å¥ä¸­å­—æ®µèµ·åˆ«å</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> eid,emp_name empName,age,sex,email <span style="color:#fff;font-weight:bold">from</span> t_emp
</span></span></code></pre></div></li>
<li>
<p>å¼€å¯<code>mapUnderscoreToCamelCase</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;settings&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;setting</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;mapUnderscoreToCamelCase&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/settings&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
<h3 id="62-å¤šå¯¹ä¸€æ˜ å°„">6.2 å¤šå¯¹ä¸€æ˜ å°„<a hidden class="anchor" aria-hidden="true" href="#62-å¤šå¯¹ä¸€æ˜ å°„">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Emp {  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> Integer eid;  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> String empName;  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> Integer age;  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> String sex;  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> String email;  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> Dept dept;
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></div><ul>
<li>
<p>çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;empAndDeptResultMapOne&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;empName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;emp_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;dept.did&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;dept.deptName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;dept_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Emp getEmpAndDept(@Param(&#34;eid&#34;)Integer eid);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpAndDept&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;empAndDeptResultMapOne&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»</p>
<ul>
<li><code>association</code>ï¼šå¤„ç†å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»</li>
<li><code>property</code>ï¼šéœ€è¦å¤„ç†å¤šå¯¹çš„æ˜ å°„å…³ç³»çš„å±æ€§å</li>
<li><code>javaType</code>ï¼šè¯¥å±æ€§çš„ç±»å‹</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;empAndDeptResultMapTwo&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;empName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;emp_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;association</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;dept&#34;</span> <span style="color:#007f7f">javaType=</span><span style="color:#0ff;font-weight:bold">&#34;Dept&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;deptName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;dept_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/association&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Emp getEmpAndDept(@Param(&#34;eid&#34;)Integer eid);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpAndDept&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;empAndDeptResultMapTwo&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>åˆ†å¸ƒæŸ¥è¯¢</p>
<ul>
<li>
<p>å…¶å®å°±æ˜¯å°†å¦ä¸€æ¡<code>mapper</code>å®ç°çš„<code>sql</code>è¯­å¥æ ¹æ®<code>select=&quot;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&quot; column=&quot;did&quot;</code>å¯¼å…¥è¿›æ¥</p>
</li>
<li>
<p>æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</p>
<ul>
<li>selectï¼šè®¾ç½®åˆ†å¸ƒæŸ¥è¯¢çš„sqlçš„å”¯ä¸€æ ‡è¯†ï¼ˆnamespace.SQLIdæˆ–mapperæ¥å£çš„å…¨ç±»å.æ–¹æ³•åï¼‰</li>
<li>columnï¼šè®¾ç½®åˆ†æ­¥æŸ¥è¯¢çš„æ¡ä»¶</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//EmpMapperé‡Œçš„æ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return com.atguigu.mybatis.pojo.Emp
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/27 20:17
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>Emp getEmpAndDeptByStepOne(@Param(<span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span>) Integer eid);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;empAndDeptByStepResultMap&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;empName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;emp_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;association</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;dept&#34;</span>
</span></span><span style="display:flex;"><span>				 <span style="color:#007f7f">select=</span><span style="color:#0ff;font-weight:bold">&#34;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&#34;</span>
</span></span><span style="display:flex;"><span>				 <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span><span style="font-weight:bold">&gt;&lt;/association&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Emp getEmpAndDeptByStepOne(@Param(&#34;eid&#34;) Integer eid);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpAndDeptByStepOne&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;empAndDeptByStepResultMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp where eid = #{eid}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//DeptMapperé‡Œçš„æ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šé€šè¿‡didæŸ¥è¯¢å‘˜å·¥å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return com.atguigu.mybatis.pojo.Emp
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/27 20:23
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>Dept getEmpAndDeptByStepTwo(@Param(<span style="color:#0ff;font-weight:bold">&#34;did&#34;</span>) Integer did);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--æ­¤å¤„çš„resultMapä»…æ˜¯å¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;EmpAndDeptByStepTwoResultMap&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;Dept&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;deptName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;dept_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Dept getEmpAndDeptByStepTwo(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpAndDeptByStepTwo&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;EmpAndDeptByStepTwoResultMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_dept where did = #{did}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="63-ä¸€å¯¹å¤šæ˜ å°„å¤„ç†">6.3 ä¸€å¯¹å¤šæ˜ å°„å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#63-ä¸€å¯¹å¤šæ˜ å°„å¤„ç†">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Dept {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Integer did;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String deptName;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;Emp&gt; emps;
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></div><ul>
<li>
<p><code>collection</code></p>
<ul>
<li>collectionï¼šç”¨æ¥å¤„ç†ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»</li>
<li>ofTypeï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹é¥®çš„é›†åˆä¸­å­˜å‚¨çš„æ•°æ®çš„ç±»å‹</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;DeptAndEmpResultMap&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;Dept&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;deptName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;dept_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;collection</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;emps&#34;</span> <span style="color:#007f7f">ofType=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;empName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;emp_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;age&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;sex&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;email&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/collection&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Dept getDeptAndEmp(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getDeptAndEmp&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;DeptAndEmpResultMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #{did}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>åˆ†æ­¥æŸ¥è¯¢</p>
<ul>
<li>
<p>æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param did 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return com.atguigu.mybatis.pojo.Dept
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/27 22:04
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>Dept getDeptAndEmpByStepOne(@Param(<span style="color:#0ff;font-weight:bold">&#34;did&#34;</span>) Integer did);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;DeptAndEmpByStepOneResultMap&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;Dept&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span><span style="font-weight:bold">&gt;&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;deptName&#34;</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;dept_name&#34;</span><span style="font-weight:bold">&gt;&lt;/result&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;collection</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;emps&#34;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#007f7f">select=</span><span style="color:#0ff;font-weight:bold">&#34;com.atguigu.mybatis.mapper.EmpMapper.getDeptAndEmpByStepTwo&#34;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;did&#34;</span><span style="font-weight:bold">&gt;&lt;/collection&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--Dept getDeptAndEmpByStepOne(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getDeptAndEmpByStepOne&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;DeptAndEmpByStepOneResultMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_dept where did = #{did}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šæ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param did
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return java.util.List&lt;com.atguigu.mybatis.pojo.Emp&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @date 2022/2/27 22:10
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(<span style="color:#0ff;font-weight:bold">&#34;did&#34;</span>) Integer did);
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getDeptAndEmpByStepTwo&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp where did = #{did}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="7-å»¶è¿ŸåŠ è½½">7 å»¶è¿ŸåŠ è½½<a hidden class="anchor" aria-hidden="true" href="#7-å»¶è¿ŸåŠ è½½">#</a></h2>
<ul>
<li>
<p>åœ¨<code>mybatis-config.xml</code>é‡Œé¢é…ç½®å»¶è¿ŸåŠ è½½</p>
<ul>
<li>lazyLoadingEnabledï¼šå»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½
<ul>
<li>aggressiveLazyLoadingï¼šå½“å¼€å¯æ—¶ï¼Œä»»ä½•æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå±æ€§ä¼šæŒ‰éœ€åŠ è½½</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;settings&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;setting</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;lazyLoadingEnabled&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/settings&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>å¼€å¯å»¶è¿ŸåŠ è½½åï¼ŒæŸ¥è¯¢ç›¸å…³å†…å®¹æ˜¯ï¼Œåªæœ‰éœ€è¦ç”¨åˆ°çš„æ—¶å€™ï¼ŒæœåŠ¡æ‰å»è°ƒç”¨ç›¸åº”çš„ç¨‹åºã€‚</p>
</li>
</ul>
<h2 id="8-åŠ¨æ€sql">8 åŠ¨æ€sql<a hidden class="anchor" aria-hidden="true" href="#8-åŠ¨æ€sql">#</a></h2>
<h3 id="81-if">8.1 if<a hidden class="anchor" aria-hidden="true" href="#81-if">#</a></h3>
<ul>
<li>ifæ ‡ç­¾å¯é€šè¿‡testå±æ€§ï¼ˆå³ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼‰çš„è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¡¨è¾¾å¼çš„ç»“æœä¸ºtrueï¼Œåˆ™æ ‡ç­¾ä¸­çš„å†…å®¹ä¼šæ‰§è¡Œï¼›åä¹‹æ ‡ç­¾ä¸­çš„å†…å®¹ä¸ä¼šæ‰§è¡Œ</li>
<li>åœ¨whereåé¢æ·»åŠ ä¸€ä¸ªæ’æˆç«‹æ¡ä»¶<code>1=1</code></li>
<li>è¿™ä¸ªæ’æˆç«‹æ¡ä»¶å¹¶ä¸ä¼šå½±å“æŸ¥è¯¢çš„ç»“æœ
<ul>
<li>è¿™ä¸ª<code>1=1</code>å¯ä»¥ç”¨æ¥æ‹¼æ¥<code>and</code>è¯­å¥ï¼Œä¾‹å¦‚ï¼šå½“empNameä¸ºnullæ—¶</li>
<li>å¦‚æœä¸åŠ ä¸Šæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶<code>where</code>ä¼šä¸<code>and</code>è¿ç”¨ï¼ŒSQLè¯­å¥ä¼šæŠ¥é”™
<ul>
<li>å¦‚æœåŠ ä¸Šä¸€ä¸ªæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where 1= 1 and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶ä¸æŠ¥é”™</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpByCondition&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp where 1=1
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		and emp_name = #{empName}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;age != null and age !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		and age = #{age}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;sex != null and sex !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		and sex = #{sex}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;email != null and email !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		and email = #{email}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div><h3 id="82-where">8.2 where<a hidden class="anchor" aria-hidden="true" href="#82-where">#</a></h3>
<ul>
<li>
<p>whereå’Œifä¸€èˆ¬ç»“åˆä½¿ç”¨ï¼š</p>
</li>
<li>
<p>è§£å†³å‰é¢å¸¦æœ‰<code>and </code> æˆ–è€… <code>or</code></p>
</li>
<li>
<p>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾æ²¡æœ‰ä»»ä½•åŠŸèƒ½ï¼Œå³ä¸ä¼šæ·»åŠ whereå…³é”®å­—</p>
<ul>
<li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾ä¼šè‡ªåŠ¨æ·»åŠ whereå…³é”®å­—ï¼Œå¹¶å°†æ¡ä»¶<strong>æœ€å‰æ–¹å¤šä½™çš„and/orå»æ‰</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpByCondition&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;where&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			emp_name = #{empName}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;age != null and age !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			and age = #{age}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;sex != null and sex !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			and sex = #{sex}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;email != null and email !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			and email = #{email}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/where&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>æ³¨æ„ï¼š<strong>whereæ ‡ç­¾ä¸èƒ½å»æ‰æ¡ä»¶åå¤šä½™çš„and/or</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--è¿™ç§ç”¨æ³•æ˜¯é”™è¯¯çš„ï¼Œåªèƒ½å»æ‰æ¡ä»¶å‰é¢çš„and/orï¼Œæ¡ä»¶åé¢çš„ä¸è¡Œ--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>emp_name = #{empName} and
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;age != null and age !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	age = #{age}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/if&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="83-trim">8.3 trim<a hidden class="anchor" aria-hidden="true" href="#83-trim">#</a></h3>
<ul>
<li>
<p>trimç”¨äºå»æ‰æˆ–æ·»åŠ æ ‡ç­¾ä¸­çš„å†…å®¹</p>
</li>
<li>
<p>è§£å†³åé¢å¸¦æœ‰<code>and </code> æˆ–è€… <code>or</code></p>
</li>
<li>
<p>å¸¸ç”¨å±æ€§</p>
</li>
<li>
<p>prefixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢æ·»åŠ æŸäº›å†…å®¹</p>
<ul>
<li>suffixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢æ·»åŠ æŸäº›å†…å®¹</li>
<li>prefixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢å»æ‰æŸäº›å†…å®¹</li>
<li>suffixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢å»æ‰æŸäº›å†…å®¹</li>
</ul>
</li>
<li>
<p>è‹¥trimä¸­çš„æ ‡ç­¾éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™trimæ ‡ç­¾æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œä¹Ÿå°±æ˜¯åªå‰©ä¸‹<code>select * from t_emp</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpByCondition&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;trim</span> <span style="color:#007f7f">prefix=</span><span style="color:#0ff;font-weight:bold">&#34;where&#34;</span> <span style="color:#007f7f">suffixOverrides=</span><span style="color:#0ff;font-weight:bold">&#34;and|or&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			emp_name = #{empName} and
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;age != null and age !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			age = #{age} and
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;sex != null and sex !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			sex = #{sex} or
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;email != null and email !=&#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>			email = #{email}
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/trim&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="84-choosewhenotherwise">8.4 chooseã€whenã€otherwise<a hidden class="anchor" aria-hidden="true" href="#84-choosewhenotherwise">#</a></h3>
<ul>
<li>
<p><code>chooseã€whenã€otherwise</code>ç›¸å½“äº<code>if...else if..else</code></p>
</li>
<li>
<p>whenè‡³å°‘è¦æœ‰ä¸€ä¸ªï¼Œotherwiseè‡³å¤šåªæœ‰ä¸€ä¸ª</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpByChoose&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from t_emp
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;where&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;choose&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;when</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;empName != null and empName != &#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>				emp_name = #{empName}
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;/when&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;when</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;age != null and age != &#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>				age = #{age}
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;/when&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;when</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;sex != null and sex != &#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>				sex = #{sex}
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;/when&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;when</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;email != null and email != &#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>				email = #{email}
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;/when&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;otherwise&gt;</span>
</span></span><span style="display:flex;"><span>				did = 1
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;/otherwise&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/choose&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/where&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="85-foreach">8.5 foreach<a hidden class="anchor" aria-hidden="true" href="#85-foreach">#</a></h3>
<ul>
<li>
<p>å±æ€§ï¼š</p>
</li>
<li>
<p>collectionï¼šè®¾ç½®è¦å¾ªç¯çš„æ•°ç»„æˆ–é›†åˆ</p>
<ul>
<li>itemï¼šè¡¨ç¤ºé›†åˆæˆ–æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®</li>
<li>separatorï¼šè®¾ç½®å¾ªç¯ä½“ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œåˆ†éš”ç¬¦å‰åé»˜è®¤æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦‚<code>,</code></li>
<li>openï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„å¼€å§‹ç¬¦</li>
<li>closeï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„ç»“æŸç¬¦</li>
</ul>
</li>
<li>
<p>æ‰¹é‡åˆ é™¤</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--int deleteMoreByArray(Integer[] eids);
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">int result = mapper.deleteMoreByArray(new Integer[]{6, 7, 8, 9});
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;delete</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;deleteMoreByArray&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	delete from t_emp where eid in
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;eids&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;eid&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;(&#34;</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;)&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		#{eid}
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/delete&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>æ‰¹é‡æ·»åŠ </p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--int insertMoreByList(@Param(&#34;emps&#34;) List&lt;Emp&gt; emps);
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">List&lt;Emp&gt; emps = Arrays.asList(emp1, emp2, emp3);
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	int result = mapper.insertMoreByList(emps);
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;insertMoreByList&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	insert into t_emp values
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;emps&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;emp&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		(null,#{emp.empName},#{emp.age},#{emp.sex},#{emp.email},null)
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="86-sql-ç‰‡æ®µ">8.6 sql ç‰‡æ®µ<a hidden class="anchor" aria-hidden="true" href="#86-sql-ç‰‡æ®µ">#</a></h3>
<ul>
<li>sqlç‰‡æ®µï¼Œå¯ä»¥è®°å½•ä¸€æ®µå…¬å…±sqlç‰‡æ®µï¼Œåœ¨ä½¿ç”¨çš„åœ°æ–¹é€šè¿‡includeæ ‡ç­¾è¿›è¡Œå¼•å…¥</li>
</ul>
<ul>
<li>å£°æ˜sqlç‰‡æ®µï¼š<code>&lt;sql&gt;</code>æ ‡ç­¾</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;sql</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;empColumns&#34;</span><span style="font-weight:bold">&gt;</span>eid,emp_name,age,sex,email<span style="font-weight:bold">&lt;/sql&gt;</span>
</span></span></code></pre></div><ul>
<li>å¼•ç”¨sqlç‰‡æ®µï¼š<code>&lt;include&gt;</code>æ ‡ç­¾</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getEmpByCondition&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	select <span style="font-weight:bold">&lt;include</span> <span style="color:#007f7f">refid=</span><span style="color:#0ff;font-weight:bold">&#34;empColumns&#34;</span><span style="font-weight:bold">&gt;&lt;/include&gt;</span> from t_emp
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></div><h2 id="9-mybatisçš„é€†å‘å·¥ç¨‹">9 MyBatisçš„é€†å‘å·¥ç¨‹<a hidden class="anchor" aria-hidden="true" href="#9-mybatisçš„é€†å‘å·¥ç¨‹">#</a></h2>
<ul>
<li>
<p>æ­£å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºJavaå®ä½“ç±»ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¡¨ã€‚Hibernateæ˜¯æ”¯æŒæ­£å‘å·¥ç¨‹çš„</p>
</li>
<li>
<p>é€†å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºæ•°æ®åº“è¡¨ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®æ•°æ®åº“è¡¨ï¼Œåå‘ç”Ÿæˆå¦‚ä¸‹èµ„æºï¼š</p>
</li>
<li>
<p>Javaå®ä½“ç±»</p>
<ul>
<li>Mapperæ¥å£</li>
<li>Mapperæ˜ å°„æ–‡ä»¶</li>
</ul>
</li>
<li>
<p>æ·»åŠ ä¾èµ–</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!-- MyBatisæ ¸å¿ƒä¾èµ–åŒ… --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;groupId&gt;</span>org.mybatis<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;artifactId&gt;</span>mybatis<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;version&gt;</span>3.5.9<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!-- junitæµ‹è¯• --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;groupId&gt;</span>junit<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;artifactId&gt;</span>junit<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;version&gt;</span>4.13.2<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;scope&gt;</span>test<span style="font-weight:bold">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;groupId&gt;</span>mysql<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;artifactId&gt;</span>mysql-connector-java<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;version&gt;</span>8.0.27<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!-- log4jæ—¥å¿— --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;groupId&gt;</span>log4j<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;artifactId&gt;</span>log4j<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;version&gt;</span>1.2.17<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- æ§åˆ¶Mavenåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›¸å…³é…ç½® --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">&lt;!-- æ„å»ºè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ’ä»¶ --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">&lt;!-- å…·ä½“æ’ä»¶ï¼Œé€†å‘å·¥ç¨‹çš„æ“ä½œæ˜¯ä»¥æ„å»ºè¿‡ç¨‹ä¸­æ’ä»¶å½¢å¼å‡ºç°çš„ --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;groupId&gt;</span>org.mybatis.generator<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;artifactId&gt;</span>mybatis-generator-maven-plugin<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;version&gt;</span>1.3.0<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#007f7f">&lt;!-- æ’ä»¶çš„ä¾èµ– --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#007f7f">&lt;!-- é€†å‘å·¥ç¨‹çš„æ ¸å¿ƒä¾èµ– --&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;groupId&gt;</span>org.mybatis.generator<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;artifactId&gt;</span>mybatis-generator-core<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;version&gt;</span>1.3.2<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#007f7f">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;groupId&gt;</span>com.mchange<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;artifactId&gt;</span>c3p0<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;version&gt;</span>0.9.2<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="color:#007f7f">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;groupId&gt;</span>mysql<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;artifactId&gt;</span>mysql-connector-java<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>					<span style="font-weight:bold">&lt;version&gt;</span>8.0.27<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>				<span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="font-weight:bold">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="font-weight:bold">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/build&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶</p>
<ul>
<li>æ–‡ä»¶åå¿…é¡»æ˜¯ï¼š<code>generatorConfig.xml</code>
<ul>
<li>è¿™é‡Œæ˜¯<code>mac</code>ä¸‹çš„è·¯å¾„ï¼Œ<code>windows</code>éœ€è¦é¢å¤–ä¿®æ”¹</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE generatorConfiguration
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        &#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34;&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;generatorConfiguration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!--
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    targetRuntime: æ‰§è¡Œç”Ÿæˆçš„é€†å‘å·¥ç¨‹çš„ç‰ˆæœ¬
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            MyBatis3Simple: ç”ŸæˆåŸºæœ¬çš„CRUDï¼ˆæ¸…æ–°ç®€æ´ç‰ˆï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            MyBatis3: ç”Ÿæˆå¸¦æ¡ä»¶çš„CRUDï¼ˆå¥¢åå°Šäº«ç‰ˆï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;context</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;DB2Tables&#34;</span> <span style="color:#007f7f">targetRuntime=</span><span style="color:#0ff;font-weight:bold">&#34;MyBatis3&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;jdbcConnection</span> <span style="color:#007f7f">driverClass=</span><span style="color:#0ff;font-weight:bold">&#34;com.mysql.cj.jdbc.Driver&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#007f7f">connectionURL=</span><span style="color:#0ff;font-weight:bold">&#34;jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf8&amp;amp;useSSL=false&amp;amp;serverTimezone=UTC&amp;amp;rewriteBatchedStatements=true&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#007f7f">userId=</span><span style="color:#0ff;font-weight:bold">&#34;root&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#007f7f">password=</span><span style="color:#0ff;font-weight:bold">&#34;root&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/jdbcConnection&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- javaBeançš„ç”Ÿæˆç­–ç•¥--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;javaModelGenerator</span> <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com.reus.mybatis.pojo&#34;</span> <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;./src/main/java&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;trimStrings&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/javaModelGenerator&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- SQLæ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆç­–ç•¥ --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;sqlMapGenerator</span> <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com.reus.mybatis.mapper&#34;</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;./src/main/resources&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/sqlMapGenerator&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥ --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;javaClientGenerator</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;XMLMAPPER&#34;</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com.reus.mybatis.mapper&#34;</span> <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;./src/main/java&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/javaClientGenerator&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- é€†å‘åˆ†æçš„è¡¨ --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- tableNameè®¾ç½®ä¸º*å·ï¼Œå¯ä»¥å¯¹åº”æ‰€æœ‰è¡¨ï¼Œæ­¤æ—¶ä¸å†™domainObjectName --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- domainObjectNameå±æ€§æŒ‡å®šç”Ÿæˆå‡ºæ¥çš„å®ä½“ç±»çš„ç±»å --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;table</span> <span style="color:#007f7f">tableName=</span><span style="color:#0ff;font-weight:bold">&#34;t_emp&#34;</span> <span style="color:#007f7f">domainObjectName=</span><span style="color:#0ff;font-weight:bold">&#34;Emp&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;table</span> <span style="color:#007f7f">tableName=</span><span style="color:#0ff;font-weight:bold">&#34;t_dept&#34;</span> <span style="color:#007f7f">domainObjectName=</span><span style="color:#0ff;font-weight:bold">&#34;Dept&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/context&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/generatorConfiguration&gt;</span>
</span></span></code></pre></div></li>
<li>
<p><img loading="lazy" src="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/image-20220429115201504.png" alt="image-20220429115201504"  />
</p>
</li>
<li>
<p>è¿è¡Œç»“æœ</p>
<ul>
<li><img loading="lazy" src="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/image-20220429115323104.png" alt="image-20220429115323104"  />
</li>
</ul>
</li>
</ul>
<h2 id="10-é…ç½®åˆ†é¡µæ’ä»¶">10 é…ç½®åˆ†é¡µæ’ä»¶<a hidden class="anchor" aria-hidden="true" href="#10-é…ç½®åˆ†é¡µæ’ä»¶">#</a></h2>
<ul>
<li>
<p><code>pom.xml</code>æ·»åŠ ä¾èµ–</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;groupId&gt;</span>com.github.pagehelper<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;artifactId&gt;</span>pagehelper<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;version&gt;</span>5.2.0<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆmybatis-config.xmlï¼‰ä¸­é…ç½®æ’ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--è®¾ç½®åˆ†é¡µæ’ä»¶--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;plugin</span> <span style="color:#007f7f">interceptor=</span><span style="color:#0ff;font-weight:bold">&#34;com.github.pagehelper.PageInterceptor&#34;</span><span style="font-weight:bold">&gt;&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/plugins&gt;</span>
</span></span></code></pre></div></li>
<li>
<p>ä½¿ç”¨</p>
<ul>
<li>åœ¨æŸ¥è¯¢åŠŸèƒ½ä¹‹å‰ä½¿ç”¨<code>PageHelper.startPage(int pageNum, int pageSize)</code>å¼€å¯åˆ†é¡µåŠŸèƒ½</li>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç 
<ul>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>EmpMapper mapper = sqlSession.<span style="color:#007f7f">getMapper</span>(EmpMapper.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//è®¿é—®ç¬¬ä¸€é¡µï¼Œæ¯é¡µå››æ¡æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>PageHelper.<span style="color:#007f7f">startPage</span>(1,4);
</span></span><span style="display:flex;"><span>	List&lt;Emp&gt; emps = mapper.<span style="color:#007f7f">selectByExample</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>	emps.<span style="color:#007f7f">forEach</span>(System.<span style="color:#007f7f">out</span>::println);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><img loading="lazy" src="https://cnblog-img-reus09.oss-cn-beijing.aliyuncs.com/image/image-20220429115614995.png" alt="image-20220429115614995"  />
</li>
</ul>
</li>
<li>
<p>åœ¨æŸ¥è¯¢è·å–listé›†åˆä¹‹åï¼Œä½¿ç”¨<code>PageInfo&lt;T&gt; pageInfo = new PageInfo&lt;&gt;(List&lt;T&gt; list, intnavigatePages)</code>è·å–åˆ†é¡µç›¸å…³æ•°æ®</p>
<ul>
<li>listï¼šåˆ†é¡µä¹‹åçš„æ•°æ®
<ul>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> testPageHelper() <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>	InputStream is = Resources.<span style="color:#007f7f">getResourceAsStream</span>(<span style="color:#0ff;font-weight:bold">&#34;mybatis-config.xml&#34;</span>);
</span></span><span style="display:flex;"><span>	SqlSessionFactoryBuilder sqlSessionFactoryBuilder = <span style="color:#fff;font-weight:bold">new</span> SqlSessionFactoryBuilder();
</span></span><span style="display:flex;"><span>	SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.<span style="color:#007f7f">build</span>(is);
</span></span><span style="display:flex;"><span>	SqlSession sqlSession = sqlSessionFactory.<span style="color:#007f7f">openSession</span>(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>	EmpMapper mapper = sqlSession.<span style="color:#007f7f">getMapper</span>(EmpMapper.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	PageHelper.<span style="color:#007f7f">startPage</span>(1, 4);
</span></span><span style="display:flex;"><span>	List&lt;Emp&gt; emps = mapper.<span style="color:#007f7f">selectByExample</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	PageInfo&lt;Emp&gt; page = <span style="color:#fff;font-weight:bold">new</span> PageInfo&lt;&gt;(emps,5);
</span></span><span style="display:flex;"><span>	System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(page);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p>ç»“æœï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#f00">PageInfo</span>{
</span></span><span style="display:flex;"><span><span style="color:#f00">pageNum=1,</span> <span style="color:#f00">pageSize=4,</span> <span style="color:#f00">size=4,</span> <span style="color:#f00">startRow=1,</span> <span style="color:#f00">endRow=4,</span> <span style="color:#f00">total=8,</span> <span style="color:#f00">pages=2,</span> 
</span></span><span style="display:flex;"><span><span style="color:#f00">list=Page{count=true,</span> <span style="color:#f00">pageNum=1,</span> <span style="color:#f00">pageSize=4,</span> <span style="color:#f00">startRow=0,</span> <span style="color:#f00">endRow=4,</span> <span style="color:#f00">total=8,</span> <span style="color:#f00">pages=2,</span> <span style="color:#f00">reasonable=false,</span> <span style="color:#f00">pageSizeZero=false</span>}
</span></span><span style="display:flex;"><span>[<span style="color:#f00">Emp</span>{<span style="color:#f00">eid=1,</span> <span style="color:#f00">empName=&#39;admin&#39;,</span> <span style="color:#f00">age=22,</span> <span style="color:#f00">sex=&#39;ç”·&#39;,</span> <span style="color:#f00">email=&#39;456@qq.com&#39;,</span> <span style="color:#f00">did=3</span>}, <span style="color:#f00">Emp</span>{<span style="color:#f00">eid=2,</span> <span style="color:#f00">empName=&#39;admin2&#39;,</span> <span style="color:#f00">age=22,</span> <span style="color:#f00">sex=&#39;ç”·&#39;,</span> <span style="color:#f00">email=&#39;456@qq.com&#39;,</span> <span style="color:#f00">did=3</span>}, <span style="color:#f00">Emp</span>{<span style="color:#f00">eid=3,</span> <span style="color:#f00">empName=&#39;ç‹äº”&#39;,</span> <span style="color:#f00">age=12,</span> <span style="color:#f00">sex=&#39;å¥³&#39;,</span> <span style="color:#f00">email=&#39;123@qq.com&#39;,</span> <span style="color:#f00">did=3</span>}, <span style="color:#f00">Emp</span>{<span style="color:#f00">eid=4,</span> <span style="color:#f00">empName=&#39;èµµå…­&#39;,</span> <span style="color:#f00">age=32,</span> <span style="color:#f00">sex=&#39;ç”·&#39;,</span> <span style="color:#f00">email=&#39;123@qq.com&#39;,</span> <span style="color:#f00">did=1</span>}]<span style="color:#f00">,</span> 
</span></span><span style="display:flex;"><span><span style="color:#f00">prePage=</span><span style="color:#ff0;font-weight:bold">0</span><span style="color:#f00">,</span> <span style="color:#f00">nextPage=</span><span style="color:#ff0;font-weight:bold">2</span><span style="color:#f00">,</span> <span style="color:#f00">isFirstPage=</span><span style="color:#fff;font-weight:bold">true</span><span style="color:#f00">,</span> <span style="color:#f00">isLastPage=</span><span style="color:#fff;font-weight:bold">false</span><span style="color:#f00">,</span> <span style="color:#f00">hasPreviousPage=</span><span style="color:#fff;font-weight:bold">false</span><span style="color:#f00">,</span> <span style="color:#f00">hasNextPage=</span><span style="color:#fff;font-weight:bold">true</span><span style="color:#f00">,</span> <span style="color:#f00">navigatePages=</span><span style="color:#ff0;font-weight:bold">5</span><span style="color:#f00">,</span> <span style="color:#f00">navigateFirstPage=</span><span style="color:#ff0;font-weight:bold">1</span><span style="color:#f00">,</span> <span style="color:#f00">navigateLastPage=</span><span style="color:#ff0;font-weight:bold">2</span><span style="color:#f00">,</span> <span style="color:#f00">navigatepageNums=</span>[<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>]<span style="color:#f00">}</span>
</span></span></code></pre></div><ul>
<li>å¸¸ç”¨æ•°æ®
<ul>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç </li>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li>
<li>sizeï¼šå½“å‰é¡µæ˜¾ç¤ºçš„çœŸå®æ¡æ•°</li>
<li>totalï¼šæ€»è®°å½•æ•°</li>
<li>pagesï¼šæ€»é¡µæ•°</li>
<li>prePageï¼šä¸Šä¸€é¡µçš„é¡µç </li>
<li>nextPageï¼šä¸‹ä¸€é¡µçš„é¡µç </li>
<li>isFirstPage/isLastPageï¼šæ˜¯å¦ä¸ºç¬¬ä¸€é¡µ/æœ€åä¸€é¡µ</li>
<li>hasPreviousPage/hasNextPageï¼šæ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ</li>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li>
<li>navigatepageNumsï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç ï¼Œ[1,2,3,4,5]</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://www.reus09.top/tags/ssm/">SSM</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://www.reus09.top/posts/tech/springboot/">
    <span class="title">Â« Prev</span>
    <br>
    <span>SpringBoot</span>
  </a>
  <a class="next" href="http://www.reus09.top/posts/tech/spring-mvc/">
    <span class="title">Next Â»</span>
    <br>
    <span>Spring Mvc</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="http://www.reus09.top">Reus09&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
